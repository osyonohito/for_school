// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
// å•é¡Œ1~å•é¡Œ5ã®å•é¡Œæ–‡ã‚’èª­ã¿ã€æŒ‡å®šã•ã‚ŒãŸè¨˜è¿°ã‚’ã›ã‚ˆã€‚
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼

//å•é¡Œï¼‘ï¼šå¤‰æ•°åã€ŒelementLocationNameã€ã§idã€Œlocation_nameã€ï¼ˆç¾åœ¨åœ°åã®è¦ç´ ï¼‰ã®å–å¾—ã‚’ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã›ã‚ˆ




//å•é¡Œï¼’ï¼šå¤‰æ•°åã€ŒelementWeatherIconã€ã§idã€Œweather_iconã€ï¼ˆå¤©æ°—ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ã®å–å¾—ã‚’ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã›ã‚ˆ





//â€»ä¸‹è¨˜ã‚’å‚è€ƒã«ã—ã¦è§£ãã¾ã—ã‚‡ã†
let elementNowTemperatureDegree = this.document.querySelector("#now_temperature_degree");   //ç¾åœ¨ã®æ°—æ¸©ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementMaxTemperatureDegree = this.document.querySelector("#max_temperature_degree");   //æœ€é«˜æ°—æ¸©ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementMinTemperatureDegree = this.document.querySelector("#min_temperature_degree");   //æœ€ä½æ°—æ¸©ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementNowTemperatureUnit = document.querySelector("#now_temperature_unit");            //ç¾åœ¨ã®å˜ä½ ex.ã€Œâ„ƒã€ã€€ã€€ã€€ã®è¦ç´ 
let elementMaxTemperatureUnit = document.querySelector("#max_temperature_unit");            //æœ€é«˜æ™‚ã®å˜ä½ ex.ã€Œâ„ƒã€ã€€ã€€ã®è¦ç´ 
let elementMinTemperatureUnit = document.querySelector("#min_temperature_unit");            //æœ€ä½æ™‚ã®å˜ä½ ex.ã€Œâ„ƒã€ã€€ã€€ã®è¦ç´ 
let elementWeatherDescription = this.document.querySelector("#weather_description");        //å¤©å€™åæƒ…å ±ã€€ã€€ã€€ã€€ã€€ã€€ã€€  ã®è¦ç´ 
let elementDataHumidity = this.document.querySelector("#data_humidity");                    //æ¹¿åº¦ã®å€¤ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementDataPressure = this.document.querySelector("#data_pressure");                    //æ°—åœ§ã®å€¤ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementDataRainfallSnowfall = this.document.querySelector("#data_rainfall_snowfall");   //é™æ°´é‡ã®å€¤ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementDataWind = this.document.querySelector("#data_wind");                            //é¢¨é€Ÿã®å€¤ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementDataCloudy = this.document.querySelector("#data_cloudy");                        //é›²ã®é‡ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementDataSunriseSunset = this.document.querySelector("#data_sunrise_sunset");         //æ—¥ã®å‡ºå…¥ã®å€¤ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementLabelRainfallSnowfall = this.document.querySelector("#label_rainfall_snowfall"); //ã€Œé™æ°´é‡ã€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 
let elementReloadIcon = this.document.querySelector("#reload_icon");                        //ãƒªãƒ­ãƒ¼ãƒ‰ã‚¢ã‚¤ã‚³ãƒ³ã€€ã€€ã€€ã€€ã€€ã®è¦ç´ 


//å•é¡Œï¼“ï¼šãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ãŒå®Œäº†ã—ãŸã¨ãã«viewWeather()ãŒå®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã›ã‚ˆã€‚
/** ãƒšãƒ¼ã‚¸ã‚’èª­ã¿è¾¼ã‚“ã æ™‚ã«{}å†…ã«æ›¸ã„ãŸå‡¦ç†ãŒå‹•ã
*  addEventListenerã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆãŒé…ä¿¡ã•ã‚Œã‚‹ãŸã³ã«å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°
* ï¼ˆä»Šå›ã¯ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼šwindow, ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆï¼šloadï¼‰ 

/*ã“ã“ã‚’é©åˆ‡ãªæ–‡å­—ã§ç½®ãæ›ãˆã¦ãã ã•ã„*/
.addEventListener("load", () => {
  /*ã“ã“ã«å®Ÿè¡Œã™ã‚‹é–¢æ•°ã‚’å®£è¨€ã›ã‚ˆ*/

});

//å•é¡Œï¼”ï¼šãƒªãƒ­ãƒ¼ãƒ‰ã‚¢ã‚¤ã‚³ãƒ³ã®HTMLã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«viewWeather()ãŒå®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã›ã‚ˆã€‚
/** ãƒªãƒ­ãƒ¼ãƒ‰ã‚¢ã‚¤ã‚³ãƒ³ã‚’å‘¼ã³å‡ºã™å¤‰æ•°ã¯ä¸Šè¨˜å¤‰æ•°ç¾¤ã‹ã‚‰æ¢ã—ã¦ãã ã•ã„*/ 

/*ã“ã“ã‚’é©åˆ‡ãªæ–‡å­—ã§ç½®ãæ›ãˆã¦ãã ã•ã„*/
.addEventListener("click", () => {
  /*ã“ã“ã«å®Ÿè¡Œã™ã‚‹é–¢æ•°ã‚’å®£è¨€ã›ã‚ˆ*/
  viewWeather();
});

//å•é¡Œï¼•ï¼šviewWeatheré–¢æ•°ã‚’å®šç¾©ã›ã‚ˆï¼ˆå‡¦ç†å†…å®¹ã¯è¨˜è¿°ä¸è¦ï¼‰

/*ã“ã“ã§viewWeatheré–¢æ•°ã‚’å®£è¨€ã—ã¦ãã ã•ã„*/

//å‡¦ç†å†…å®¹ã¯ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸è¦


//â€»ä»¥ä¸‹ã€viewWeatheré–¢æ•°ã®å‡¦ç†å†…å®¹
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
// ã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œ
// ã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œ
// ã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œ
// ã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œ
// ã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œã“ã“ã‚ˆã‚Šä¸‹ã¯ç¢ºèªä¸è¦ï½œ
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
// â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼



  /**  ä½ç½®æƒ…å ±ã®å–å¾—ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹(å¯¾å¿œã—ã¦ã„ã‚‹å ´åˆç«¯æœ«ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ã„ã‚‹)objã§ç¢ºèª
  *    ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œä½ç½®æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã‹ã€ã¨ä½¿ç”¨è¨±å¯ã‚’æ±‚ã‚ã¦ã€è¨±å¯ã•ã‚ŒãŸå ´åˆã«ãã®ä½ç½®æƒ…å ±ã‚’positionã«å…¥ã‚Œã¦ãã“ã‹ã‚‰ç·¯åº¦ã¨çµŒåº¦ã‚’å–ã‚Šå‡ºã—ã¦ã„ã‚‹
  */
  if (this.navigator.geolocation) {                 //ç–‘å•ç‚¹ï¼šnavigator.geolocationã®è¨˜è¿°ï¼ä½ç½®æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã‹ã‚’è¡¨ç¤º
    this.navigator.geolocation.getCurrentPosition(//ç¾åœ¨ä½ç½®ã‚’å–å¾—ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰

      //ä»¥ä¸‹ã‹ã‚‰ã®è¨˜è¿°ã¯ç¾åœ¨ä½ç½®ã®å–å¾—ãŒæˆåŠŸã—ãŸã‚‰å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°ï¼ˆï¼–ï¼”ï½ï¼‘ï¼’ï¼’è¡Œç›®ã¾ã§1ã¤ã®é–¢æ•°ï¼‰

      (position) => {                               //positionï¼šã€Œthis.navigator.geolocation.getCurrentPositionã€ã®çµæœ
        let lon = position.coords.longitude;        //çµŒåº¦(coordsã¯ã€Œåº§æ¨™ã€)
        let lat = position.coords.latitude;         //ç·¯åº¦


        /** API_KEYã¯APIã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆèªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è­˜åˆ¥ã™ã‚‹ãŸã‚ã®æ–‡å­—åˆ—ï¼‰
        *   URLã¯APIã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆURL
        */

        const API_KEY = "360a9abe01d23bae800998614820c40b"
        const URL = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=ja`;



        /**  fetchã¯éåŒæœŸé€šä¿¡ã€‚
        *
        *    å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ„å‘³
        *    fetch(URL)         =Promiseã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(â€»éåŒæœŸå‡¦ç†ã®å®Œäº† (ã‚‚ã—ãã¯å¤±æ•—) ã®çµæœãŠã‚ˆã³ãã®çµæœ)
        *    fetch(URL)ã®å®Ÿè¡Œçµæœ=Response ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
        *
        *    fetch(URL)ã®å®Ÿè¡Œçµæœï¼ˆResponseã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’ then() ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†
        */



        this.fetch(URL).then((response) => {//é€šä¿¡ãŒæˆåŠŸã—ãŸã‚‰then()ãŒå‹•ã„ã¦ã€å¤±æ•—ã—ãŸã‚‰catch()ãŒå‹•ã â€»try-catchã§ã¯ãªã„
          return response.json();           //æ¬¡ã®then() ãƒ¡ã‚½ãƒƒãƒ‰ã«JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ã„ã‚‹
        }).then((data) => {                 //data = response.json()

          //ï¼‘ï¼ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šå‡ºã—
          let weatherId = data.weather[0].id;                                                      //å–ã‚Šå‡ºã—ãŸå¤©æ°—IDæƒ…å ±
          let weatherIcon = data.weather[0].icon;                                                    //å–ã‚Šå‡ºã—ãŸå¤©æ°—ã‚¢ã‚¤ã‚³ãƒ³æƒ…å ±
          let weatherDescription = data.weather[0].description;                                             //å–ã‚Šå‡ºã—ãŸå¤©å€™åæƒ…å ±
          let temperature = data.main.temp;                                                          //å–ã‚Šå‡ºã—ãŸç¾åœ¨ã®æ°—æ¸©æƒ…å ±
          let minTemperature = data.main.temp_min;                                                      //å–ã‚Šå‡ºã—ãŸæœ€ä½æ°—æ¸©æƒ…å ±
          let maxTemperature = data.main.temp_max;                                                      //å–ã‚Šå‡ºã—ãŸæœ€é«˜æ°—æ¸©æƒ…å ±
          let pressure = data.main.pressure;                                                      //å–ã‚Šå‡ºã—ãŸæ°—åœ§æƒ…å ±
          let humidity = data.main.humidity;                                                      //å–ã‚Šå‡ºã—ãŸæ¹¿åº¦æƒ…å ±
          let speed = data.wind.speed;                                                         //å–ã‚Šå‡ºã—ãŸé¢¨é€Ÿæƒ…å ±
          let windDegree = data.wind.deg;                                                           //å–ã‚Šå‡ºã—ãŸé¢¨åº¦æƒ…å ±
          let cloudsAll = data.clouds.all;                                                         //å–ã‚Šå‡ºã—ãŸé›²ã®é‡æƒ…å ±
          let rainOrSnow = "rain" in data ? data.rain["1h"] : "snow" in data ? data.snow["1h"] : 0; //å–ã‚Šå‡ºã—ãŸ1æ™‚é–“å½“ãŸã‚Šã®é™æ°´oré™é›ªé‡ã®å€¤æƒ…å ±ã€€ã€€ã€€ã€€(ä¸‰é …æ¼”ç®—å­)
          let labelRainOrSnow = "rain" in data ? "é™æ°´é‡" : "snow" in data ? "é™é›ªé‡" : "é™æ°´é‡";         //å–ã‚Šå‡ºã—ãŸé™æ°´é‡oré™é›ªé‡ã®ãƒ©ãƒ™ãƒ«æƒ…å ±(ä¸‰é …æ¼”ç®—å­)
          let sunrise = data.sys.sunrise;                                                        //å–ã‚Šå‡ºã—ãŸæ—¥ã®å‡ºæƒ…å ±
          let sunset = data.sys.sunset;                                                         //å–ã‚Šå‡ºã—ãŸæ—¥ã®å…¥ã‚Šæƒ…å ±
          let timezone = data.timezone;                                                           //å–ã‚Šå‡ºã—ãŸæ™‚é–“æƒ…å ±

          //ï¼’ï¼æ›¸ãæ›ãˆï¼ˆHTMLè¦ç´ ã¸å–ã‚Šå‡ºã—ãŸãƒ‡ãƒ¼ã‚¿ã®ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã‚’(textContentãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”¨ã„ã¦)æ–°ã—ãæ›¸ãè¾¼ã‚€ï¼‰
          elementNowTemperatureDegree.textContent = temperature;                                         //ç¾åœ¨ã®æ°—æ¸©HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸç¾åœ¨ã®æ°—æ¸©æƒ…å ±ã‚’æ ¼ç´
          elementMinTemperatureDegree.textContent = minTemperature;                                        //æœ€ä½æ°—æ¸©HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸæœ€ä½æ°—æ¸©æƒ…å ±ã‚’æ ¼ç´
          elementMaxTemperatureDegree.textContent = maxTemperature;                                        //æœ€é«˜æ°—æ¸©HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸæœ€é«˜æ°—æ¸©æƒ…å ±ã‚’æ ¼ç´
          elementWeatherDescription.textContent = weatherDescription;                                    //å¤©å€™åHTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸå¤©å€™åæƒ…å ±ã‚’æ ¼ç´
          elementDataHumidity.textContent = humidity;                                              //æ¹¿åº¦HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸæ¹¿åº¦æƒ…å ±ã‚’æ ¼ç´
          elementDataPressure.textContent = pressure;                                              //æ°—åœ§HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸæ°—åœ§æƒ…å ±ã‚’æ ¼ç´
          elementLabelRainfallSnowfall.textContent = labelRainOrSnow;                                       //ãƒ©ãƒ™ãƒ«HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸãƒ©ãƒ™ãƒ«æƒ…å ±ã‚’æ ¼ç´
          elementDataRainfallSnowfall.textContent = rainOrSnow;                                            //1æ™‚é–“å½“ãŸã‚Šã®é™æ°´oré™é›ªé‡HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸã‚’dataã‚’æ ¼ç´
          elementDataWind.textContent = convertWindToString(speed, windDegree);                //æ–¹è§’ã¨é¢¨é€Ÿã®HTMLè¦ç´ ã«ã€ã€Œæ–¹è§’ã¨é¢¨é€Ÿã‚’1ã¤ã®æ–‡å­—åˆ—ã¨ã—ã¦è¿”ã™é–¢æ•°ã€ã®å®Ÿè¡Œçµæœã‚’æ ¼ç´
          elementDataCloudy.textContent = cloudsAll;                                             //é›²ã®é‡HTMLè¦ç´ ã«ã€å–ã‚Šå‡ºã—ãŸé›²ã®é‡æƒ…å ±ã‚’æ ¼ç´
          elementDataSunriseSunset.textContent = cnvertSunriseSunsetToString(sunrise, sunset, timezone);//æ—¥ã®å‡ºå…¥ã‚ŠHTMLè¦ç´ ã«ã€ã€Œæ—¥ã®å‡ºå…¥ã‚Šæƒ…å ±ã‚’è¿”ã™é–¢æ•°ã€ã®å®Ÿè¡Œçµæœã‚’æ ¼ç´
          setName(lon, lat, elementLocationName);                                                           //çµŒåº¦,ç·¯åº¦,ç¾åœ¨åœ°å
          setIcons(weatherIcon, elementWeatherIcon, weatherId);                                             //ï¼’,å¤©æ°—ã®ã‚¢ã‚¤ã‚³ãƒ³ã®HTMLè¦ç´ ,å–ã‚Šå‡ºã—ãŸå¤©æ°—ID          

          //ã‚«æ°ã®å˜ä½ã‚’ã‚»æ°ã«å¤‰æ›ã€€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å˜ä½ã‚’ã‚»æ°ã«ã—ã¦ã„ã‚‹
          if (elementNowTemperatureUnit.textContent === "â„‰") {
            elementNowTemperatureUnit.textContent = "â„ƒ";
            elementMaxTemperatureUnit.textContent = "â„ƒ";
            elementMinTemperatureUnit.textContent = "â„ƒ";
          }

        }).catch((fail) => {
          this.alert("OpenWeatherMapã«æ¥ç¶šã§ãã¾ã›ã‚“ã§ã—ãŸ");//ã€Œãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šå‡ºã—ã€ã«ã¦é€šä¿¡ã‚¨ãƒ©ãƒ¼ãŒã‚ã£ãŸéš›ã®å‡¦ç†ã€€then-catch
        })
      },
      (fail) => {//ä½ç½®æƒ…å ±ãŒå–å¾—ã§ããªã„å ´åˆ(ç«¯æœ«ãŒå¯¾å¿œã—ã¦ã„ãªã„å ´åˆã€ä½ç½®æƒ…å ±ã®å–å¾—ã‚’è¨±å¯ã—ãªã‹ã£ãŸå ´åˆã®å‡¦ç†)
        this.alert("ä½ç½®æƒ…å ±ãŒå–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ")
      }
    );
  }
}

/**
 * ä»¥ä¸‹ã€æ—¥ã®å‡º/æ—¥ã®å…¥ã‚Šæ™‚åˆ»ã‚’è¿”ã™é–¢æ•°
 */

//æ—¥ã®å‡ºã€æ—¥ã®å…¥ã‚Šæ™‚åˆ»ã‚’æ±‚ã‚æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹
//å®Ÿè¡Œã™ã‚‹é–¢æ•°ã§dataã®ä¸­ã«å…¥ã£ã¦ã„ã‚‹sunriseã¨sunsetã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹
function cnvertSunriseSunsetToString(sunrise, sunset, timezone) {
  let stringSunrise = convertUnixTimeToHourMinute(sunrise, timezone);
  let stringSunset = convertUnixTimeToHourMinute(sunset, timezone);
  let formatString = stringSunrise + " - " + stringSunset;

  return formatString;
}

function convertUnixTimeToHourMinute(unixTime, timezone) {
  let timestamp = (unixTime * 1000 + timezone);                 //unixTimeï¼šã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ä¸Šã§ã®æ™‚åˆ»è¡¨ç¾ã®ä¸€ç¨®ã€timezoneï¼šå ´æ‰€ã”ã¨ã®æ¨™æº–æ™‚é–“å¸¯
  let date = new Date(timestamp);                               //ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‹ã‚‰æ™‚é–“ã‚’ç”Ÿæˆï¼šã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’new Date()ã§åˆæœŸåŒ–ã™ã‚‹éš›ã«å¼•æ•°ã¨ã—ã¦æŒ‡å®šã€€â€»timestamp(ãƒŸãƒªç§’)
  let formatString = date.getHours() + ":" + date.getMinutes();

  return formatString;
}



/**
 * æ–¹è§’ã¨é¢¨é€Ÿã‚’1ã¤ã®æ–‡å­—åˆ—ã¨ã—ã¦è¿”ã™é–¢æ•°
 */
function convertWindToString(speed, degree) {
  const DIRECTION_LIST = ["åŒ—", "åŒ—åŒ—æ±", "åŒ—æ±", "æ±åŒ—æ±", "æ±", "æ±å—æ±", "å—æ±", "å—å—æ±", "å—", "å—å—è¥¿", "å—è¥¿", "è¥¿å—è¥¿", "è¥¿", "è¥¿åŒ—è¥¿", "åŒ—è¥¿", "åŒ—åŒ—è¥¿", "åŒ—"];
  let index = Math.round(degree / 22.5);//degree=é¢¨ã®è§’åº¦(360åº¦ä¸­)  22.5=360ã‚’16ã§å‰²ã£ãŸå€¤â¡å‰²ã£ãŸçµæœï¼è¦ç´ ç•ªå·ã€€
  let formatString = DIRECTION_LIST[index] + " " + speed;

  return formatString;
}



/**
 * çœŒåã¨å¸‚åã‚’æ›¸ãæ›ãˆã‚‹(ç·¯åº¦,çµŒåº¦ã‹ã‚‰åœ°åã‚’æ±‚ã‚ã¦è¨­å®šã™ã‚‹)é–¢æ•°
 */
function setName(lon, lat, nameId) {
  const URL = `https://mreversegeocoder.gsi.go.jp/reverse-geocoder/LonLatToAddress?lat=${lat}&lon=${lon}`;

  //fetchã®æˆ»ã‚Šå€¤ãŒresponseã«å…¥ã‚Šã€response.json()ã®æˆ»ã‚Šå€¤ãŒdataã«å…¥ã‚‹
  this.fetch(URL).then((response) => {
    return response.json();
  }).then((data) => {

    /**
     * ï¼‘ï¼muni.js(ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«)ã§åœ°åã‚’ç®¡ç†ã—ã¦ã„ã‚‹GSI(å›½åœŸäº¤é€šçœå›½åœŸåœ°ç†é™¢)ã®muniCd(é…åˆ—ã®è¦ç´ ç•ªå·)ã§åœ°åŸŸåã‚’æŒ‡å®š
     * ï¼’ï¼ã€Œï¼‘ï¼ã€ã‚’åŸºæº–ã«è©³ç´°ã‚’å–å¾—ã—ã¦ã„ã
     * ï¼“. çœŒã¨å¸‚ã®HTMLè¦ç´ ã®æ›¸ãæ›ãˆ
     * parseInté–¢æ•°ï¼šæ–‡å­—åˆ—ã®å¼•æ•°ã‚’è§£æã—ã€æŒ‡å®šã•ã‚ŒãŸåŸºæ•° (æ•°å­¦çš„è¨˜æ•°æ³•ã®åº•) ã®æ•´æ•°å€¤ã‚’è¿”ã™
     */

    //ï¼‘
    let muniCd = parseInt(data.results.muniCd);
    let detailArray = GSI.MUNI_ARRAY[muniCd].split(","); //spilitã‚‚ç”¨ã„ã¦ã€éƒ½é“åºœçœŒåã¨å¸‚åŒºç”ºæ‘ã‚’(ã‚«ãƒ³ãƒã§)åˆ†ã‘ã¦å–å¾—

    //ï¼’
    let prefecture = detailArray[1];                     //splitã§åˆ†å‰²ã—ãŸéš›ã€å¤šé‡é…åˆ—ã«ãªã£ã¦ã„ã‚‹[muniCd][muniCdã§ç´°åˆ†åŒ–ã—ãŸè¦ç´ ç•ªå·]
    let municipalities = detailArray[3];
    let formatString = `${prefecture} ${municipalities}`;

    //ï¼“
    nameId.textContent = formatString;

    /**
     * ç–‘å•ç‚¹
     * ãƒ»importã›ãšã€å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¯ãƒ©ã‚¹åˆ©ç”¨ã§ãã‚‹ï¼Ÿ
     */

  })
}



/**
 * å¤©æ°—ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã™ã‚‹é–¢æ•°
 */
function setIcons(icon, element, weatherID) {
  let currentIcon;

  /**
   * iconã®ä¸€ç•ªå¾Œã‚ã®æ–‡å­—ã ã‘ã§æ¡ä»¶åˆ†å²
   * 
   * substrãƒ¡ã‚½ãƒƒãƒ‰ ï¼šä»»æ„ã®æ–‡å­—åˆ—ã®ä¸­ã‹ã‚‰æŒ‡å®šã—ãŸæ–‡å­—åˆ—ã‚’æŠ½å‡ºã—ã¦åˆ‡ã‚Šå‡ºã™ãƒ¡ã‚½ãƒƒãƒ‰
   * æ§‹æ–‡ã€€ã€€ã€€ã€€ã€€ã€€ï¼šstr.substr( é–‹å§‹ä½ç½®, åˆ‡ã‚Šå‡ºã™é•·ã• ) 
   * è£œè¶³ã€€ã€€ã€€ã€€ã€€ã€€ï¼šé•·ã•ã¯çœç•¥å¯èƒ½
   * ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€è² ã®æ•°ã‚’æŒ‡å®šã™ã‚‹å ´åˆã€æ–‡å­—åˆ—ã®æœ«å°¾ã‹ã‚‰æ•°ãˆã‚‹
   */
  if (icon.substr(-1) === "d") {//åˆå‰
    switch (icon) {
      case "01d"://æ™´ã‚Œ
        currentIcon = "CLEAR_DAY";
        break;

      case "02d"://æ™´ã‚Œ
        currentIcon = "PARTLY_CLOUDY_DAY";
        break;

      case "03d"://æ™´ã‚Œ
        currentIcon = "PARTLY_CLOUDY_DAY";
        break;

      case "04d"://æ›‡ã‚Š
        if (weatherID === 804) {
          currentIcon = "CLOUDY";
        } else {
          currentIcon = "PARTLY_CLOUDY_DAY";
        }
        break;

      case "09d": //é›¨ ã€ŒweatherIDãŒ520,521,522,531ã®ä¸­ã«å«ã¾ã‚Œã¦ã„ãŸã‚‰ã€ã®æ¡ä»¶åˆ†å²
        if ([520, 521, 522, 531].includes(weatherID)) {
          /**
           * includes
           * 
           * é…åˆ—å†…ã«ã‚ã‚‹ç‰¹å®šã®è¦ç´ ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯
          * æ§‹æ–‡ï¼šé…åˆ—.includes(è¦ç´ )
          * æˆ»å€¤ï¼šå¼•æ•°ã«æŒ‡å®šã—ãŸè¦ç´ ãŒé…åˆ—å†…ã«å«ã¾ã‚Œã¦ã„ã‚Œã°trueã‚’è¿”ã—ã€å«ã¾ã‚Œã¦ã„ãªã„å ´åˆã¯falseã‚’è¿”ã™
          * å‚™è€ƒï¼šé…åˆ—ï¼ˆArrayï¼‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ—¢å­˜ãƒ¡ã‚½ãƒƒãƒ‰ã®ã²ã¨ã¤
          */

          currentIcon = "SHOWERS_DAY";
        } else {
          currentIcon = "SLEET"; //ã¿ãã‚Œ
        }
        break;

      case "10d"://é›¨
        currentIcon = "RAIN";
        break;

      case "13d"://é›ª
        if ([620, 621, 622].includes(weatherID)) {
          currentIcon = "SNOW_SHOWERS_DAY"
        } else if ([615, 616].includes(weatherID)) {
          currentIcon = "RAIN_SNOW_SHOWERS_DAY";
        } else if ([611, 612, 613].includes(weatherID)) {
          currentIcon = "RAIN_SNOW";
        } else {
          currentIcon = "SNOW";
        }
        break;

      case "11d"://é›·
        if ([200, 230].includes(weatherID)) {
          currentIcon = "THUNDER_SHOWERS_DAY";
        } else if ([210, 211, 212, 221].includes(weatherID)) {
          currentIcon = "THUNDER";
        } else {
          currentIcon = "THUNDER_RAIN";
        }
        break;

      case "50d"://ãã®ä»–ï¼ˆéœ§ã€ç«œå·»ãªã©ï¼‰
        currentIcon = "FOG";
        break;
    }
  } else {//åˆå¾Œ
    switch (icon) {
      case "01n"://æ™´ã‚Œ
        currentIcon = "CLEAR_NIGHT";
        break;

      case "02n"://æ™´ã‚Œ
        currentIcon = "PARTLY_CLOUDY_DAY";
        break;

      case "03n"://æ™´ã‚Œ
        currentIcon = "PARTLY_CLOUDY_DAY";
        break;

      case "04n"://æ›‡ã‚Š
        if (weatherID === 804) {
          currentIcon = "CLOUDY";
        } else {
          currentIcon = "PARTLY_CLOUDY_NIGHT";
        }
        break;

      case "09n"://é›¨
        if ([520, 521, 522, 531].includes(weatherID)) {
          currentIcon = "SHOWERS_NIGHT";
        } else {
          currentIcon = "SLEET";
        }
        break;

      case "10n"://é›¨
        currentIcon = "RAIN";
        break;

      case "13n"://é›ª
        if ([620, 621, 622].includes(weatherID)) {
          currentIcon = "SNOW_SHOWERS_NIGHT"
        } else if ([615, 616].includes(weatherID)) {
          currentIcon = "RAIN_SNOW_SHOWERS_NIGHT";
        } else if ([611, 612, 613].includes(weatherID)) {
          currentIcon = "RAIN_SNOW";
        } else {
          currentIcon = "SNOW";
        }
        break;

      case "11n"://é›·
        if ([200, 230].includes(weatherID)) {
          currentIcon = "THUNDER_SHOWERS_NIGHT";
        } else if ([210, 211, 212, 221].includes(weatherID)) {
          currentIcon = "THUNDER";
        } else {
          currentIcon = "THUNDER_RAIN";
        }
        break;

      case "50n"://ãã®ä»–ï¼ˆéœ§ã€ç«œå·»ãªã©ï¼‰
        currentIcon = "FOG";
        break;
    }
  }
  //skyconsã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ã«ã€Œcolorã¯ç™½ã§ã™ã€ã®æŒ‡å®šï¼ˆJSONã§è¨˜è¿°ï¼‰
  const skycons = new Skycons({ color: "white" });
  skycons.play();
  skycons.set(element, Skycons[currentIcon]);


  /**
   * ğŸŒŸç–‘å•ç‚¹ï¼“ç‚¹
   * ãƒ»skyconsã®constructorã®å¼•æ•°ã€€ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼(Mapçš„ãªã‚‚ã®)ã§æ ¼ç´ï¼Ÿ
   * ãƒ»skyconsã®å‡¦ç†å†…å®¹ãµããƒ¼
   * ãƒ»playã‚„setã‚’ã‚­ãƒ¼ã¨ã—ã¦é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ï¼Ÿskyconsã«ã¦
   * ãƒ»playã‚„setã¯ãã‚Œãã‚Œä½•ã‚’è¡Œã£ã¦ã„ã‚‹é–¢æ•°ï¼Ÿthis=Skyconså¤‰æ•°ï¼Ÿ
   * 
   * â¡ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‡¦ç†ã¯ã€Œã“ã‚Œã‚’æ›¸ã‘ã°ã“ã®çµæœã«ãªã‚‹ã€ç¨‹åº¦ã§ã‚‚ã„ã„ã€‚ã‚µã‚¤ãƒˆã«ã‚‚ãã†æ›¸ã„ã¦ã‚ã‚‹ã“ã¨ãŒä¸»ã€‚
   * â€»è¬›å¸«ã®æ–¹ã«èã
   */
}






/**ä»¥ä¸‹ã‚ˆã‚Šã‚»æ°â‡”ã‚«æ°ã§å¤‰æ›ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç† */





//ç¾åœ¨ã®æ°—æ¸©ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã‚»æ°â‡”ã‚«æ°ã§ç›¸äº’å¤‰æ›ãŒå¯èƒ½
elementNowTemperatureDegree.addEventListener("click", () => {
  //parseFloatã¯æ–‡å­—åˆ—ã‚’æµ®å‹•å°æ•°ç‚¹å‹ã«å¤‰ãˆã‚‹
  //textContentã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’æ–‡å­—åˆ—ã§å–å¾—ã™ã‚‹
  let nowTemperatureDegree = parseFloat(elementNowTemperatureDegree.textContent);
  let maxTemperatureDegree = parseFloat(elementMaxTemperatureDegree.textContent);
  let minTemperatureDegree = parseFloat(elementMinTemperatureDegree.textContent);
  let unit = elementNowTemperatureUnit.textContent;
  if (unit === "â„ƒ") {//ã‚»æ°ã€€â†’ã€€ã‚«æ°
    //æ¸¡ã•ã‚ŒãŸå¤‰æ•°ã‚’å—ã‘å–ã‚Šã€Cã¨å‘¼ã°ã‚Œã‚‹å¤‰æ•°ã«æ ¼ç´ã€‚ãã®å¾Œ1.8ã‚’æ›ã‘ã¦32ã‚’åŠ ãˆã¦ã‚«æ°ã«å¤‰æ›ã™ã‚‹
    elementNowTemperatureDegree.textContent = convertCToF(nowTemperatureDegree);
    elementNowTemperatureUnit.textContent = "â„‰";
    elementMaxTemperatureDegree.textContent = convertCToF(maxTemperatureDegree);
    elementMaxTemperatureUnit.textContent = "â„‰";
    elementMinTemperatureDegree.textContent = convertCToF(minTemperatureDegree);
    elementMinTemperatureUnit.textContent = "â„‰";
  } else {//ã‚«æ°ã€€â†’ã‚»æ°
    //æ¸¡ã•ã‚ŒãŸå€¤ã‹ã‚‰32ã‚’å¼•ã„ã¦1.8ã§å‰²ã£ã¦ã€ã‚»æ°ã«å¤‰æ›´ã™ã‚‹
    elementNowTemperatureDegree.textContent = convertFToC(nowTemperatureDegree);
    elementNowTemperatureUnit.textContent = "â„ƒ";
    elementMaxTemperatureDegree.textContent = convertFToC(maxTemperatureDegree);
    elementMaxTemperatureUnit.textContent = "â„ƒ";
    elementMinTemperatureDegree.textContent = convertFToC(minTemperatureDegree);
    elementMinTemperatureUnit.textContent = "â„ƒ";
  }
})



//ã‚»æ°ã‚’ã‚«æ°ã«å¤‰æ›
function convertCToF(data) {
  return Math.round((data * 1.8 + 32) * 100) / 100;
}

//ã‚«æ°ã‚’ã‚»æ°ã«å¤‰æ›
function convertFToC(data) {
  return Math.round(((data - 32) / 1.8) * 100) / 100;
}






